.CodeBlock {
  position: relative;
  border: none;
  border-radius: 10px;
  background-color: var(--codeblock-background-color);
}

.CopyButtonContainer {
  position: absolute;
  top: 8px;
  right: 8px;
  padding: 2px;
  border-radius: 8px;
  background-color: var(--color-surface-elevated);
  box-shadow: 0 0 0 1px var(--color-border);
  color: #24292e;
}

/* Force the CopyButton to inherit the container's color on all states.
   Ghost hover background (::before) is preserved â€” it's the correct behavior. */
.CopyButtonContainer button {
  color: inherit !important;
}

@media (prefers-color-scheme: dark) {
  .CopyButtonContainer {
    color: #d0d0d0;
  }
}

.SyntaxHighlighter {
  --syntax1: var(--codeblock-syntax-1);
  --syntax2: var(--codeblock-syntax-2);
  --syntax3: var(--codeblock-syntax-3);
  --syntax4: var(--codeblock-syntax-4);
  --syntax5: var(--codeblock-syntax-5);

  overflow: auto;
  display: block;
  /* Padding inside the overflow: auto container */
  padding: 12px 48px 12px 16px;
  margin: 0;
  background: transparent;
  color: var(--color-text);
  font-size: 0.875em;
  /* 14px to a 16px baseline */
  font-weight: var(--font-weight-normal);
  line-height: 1.714em;
  /* 24px at 14px */

  /* stylelint-disable selector-class-pattern */
  & :global(.token.property),
  & :global(.token.variable),
  & :global(.token.attr-name),
  & :global(.token.unit),
  & :global(.token.id),
  & :global(.token.selector),
  & :global(.token.entity),
  & :global(.token.tag),
  & :global(.token.type) {
    color: var(--syntax4);
  }

  & :global(.token.url),
  & :global(.token.boolean),
  & :global(.token.number),
  & :global(.token.important) {
    color: var(--syntax5);
  }

  & :global(.token.builtin),
  & :global(.token.function),
  & :global(.token.class-name) {
    color: var(--syntax1);
  }

  /* Order matters here, for nested tokens */
  & :global(.token.keyword),
  & :global(.token.constant),
  & :global(.token.symbol),
  & :global(.token.deleted) {
    color: var(--syntax2);
  }

  & :global(.token.string),
  & :global(.token.char),
  & :global(.token.regex),
  & :global(.token.attr-value),
  & :global(.token.inserted) {
    color: var(--syntax3);
  }

  & :global(.token.comment),
  & :global(.token.prolog),
  & :global(.token.doctype),
  & :global(.token.cdata) {
    color: color-mix(in srgb, var(--color-text), transparent 50%);
  }

  & :global(.token.punctuation),
  & :global(.token.operator) {
    color: color-mix(in srgb, var(--color-text), transparent 40%);
  }

  & :global(.token.console) {
    color: var(--color-text);
  }
}

/* Collapsible Code Block */
.CollapsibleCodeBlock {
  overflow: hidden;
  transition: max-height 0.2s ease-out;
}

.CollapsibleCodeBlock[data-collapsed] {
  overflow: hidden;
  min-height: 140px;
}

.GradientOverlay {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: linear-gradient(to bottom,
      transparent 0%,
      transparent 20%,
      var(--codeblock-background-color) 100%);
}

.ViewCodeButtonContainer {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}
